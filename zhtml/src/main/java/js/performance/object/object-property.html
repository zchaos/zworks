<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8"/>
		<meta http-equiv="Pragma" content="no-cache"/>
		<meta http-equiv="Cache-Control" content="no-cache"/>
		<meta http-equiv="Expires" content="0"/>
		<meta name="sz-context-path" content="/succezbi"/>
		<title>测试js访问对象属性的速度</title>
	</head>
	<body>
		<table>
			<tr>
				<td>获得对象的属性:o1.p1，用时:</td>
			</tr>
			<tr>
				<td id="short"></td>
			</tr>
			<tr>
				<td>获得对象的属性:o2.p1.p2.p3.p4.p5.p6.p7.p8.p9.p10.p11.p12.p13.p14.p15.p16.p17.p18.p19.p20.p21.p22.p23.p24.p25.p26.p27.p28.p29.p30.p31.p32.p33.p34.p35.p36.p37.p38.p39.p40.p41.p42.p43.p44.p45.p46.p47.p48.p49.p50.p51.p52.p53.p54.p55.p56.p57.p58.p59.p60.p61.p62.p63.p64.p65.p66.p67.p68.p69.p70.p71.p72.p73.p74.p75.p76.p77.p78.p79.p80.p81.p82.p83.p84.p85.p86.p87.p88.p89.p90.p91.p92.p93.p94.p95.p96.p97.p98.p99.p100，用时:</td>
			</tr>
			<tr>
				<td id="long"></td>
			</tr>
			<tr>
				<td colspan="2">
				<hr>
				</td>
			</tr>
			<tr>
				<td colspan="2">不赋值</td>
			</tr>
			<tr>
				<td>获得对象的属性:o1.p1，用时:</td>
			</tr>
			<tr>
				<td id="vshort"></td>
			</tr>
			<tr>
				<td>获得对象的属性:o2.p1.p2.p3.p4.p5.p6.p7.p8.p9.p10.p11.p12.p13.p14.p15.p16.p17.p18.p19.p20.p21.p22.p23.p24.p25.p26.p27.p28.p29.p30.p31.p32.p33.p34.p35.p36.p37.p38.p39.p40.p41.p42.p43.p44.p45.p46.p47.p48.p49.p50.p51.p52.p53.p54.p55.p56.p57.p58.p59.p60.p61.p62.p63.p64.p65.p66.p67.p68.p69.p70.p71.p72.p73.p74.p75.p76.p77.p78.p79.p80.p81.p82.p83.p84.p85.p86.p87.p88.p89.p90.p91.p92.p93.p94.p95.p96.p97.p98.p99.p100，用时:</td>
			</tr>
			<tr>
				<td id="vlong"></td>
			</tr>
			<tr>
				<td>循环用时</td>
			</tr>
			<tr>
				<td id="loop"></td>
			</tr>
		</table>
		<script>
			var hshort = document.getElementById("short");
			var hlong = document.getElementById("long");
			var hvshort = document.getElementById("vshort");
			var hvlong = document.getElementById("vlong");
			var hloop = document.getElementById("loop");
			function createObject(namespace) {
				var nms = namespace.split(".");
				var len = nms == null ? 0 : nms.length;

				var obj = {};
				if (len == 0) {
					return obj;
				}

				var o = obj;
				for (var i = 0; i < len; i++) {
					var nm = nms[i];
					o = o[nm] = {};
				}
				return obj;
			}

			var o1 = createObject("p1");
			var o2 = createObject("p1.p2.p3.p4.p5.p6.p7.p8.p9.p10.p11.p12.p13.p14.p15.p16.p17.p18.p19.p20.p21.p22.p23.p24.p25.p26.p27.p28.p29.p30.p31.p32.p33.p34.p35.p36.p37.p38.p39.p40.p41.p42.p43.p44.p45.p46.p47.p48.p49.p50.p51.p52.p53.p54.p55.p56.p57.p58.p59.p60.p61.p62.p63.p64.p65.p66.p67.p68.p69.p70.p71.p72.p73.p74.p75.p76.p77.p78.p79.p80.p81.p82.p83.p84.p85.p86.p87.p88.p89.p90.p91.p92.p93.p94.p95.p96.p97.p98.p99.p100");

			var val = o1.p1;
			var val = o2.p1.p2.p3.p4.p5.p6.p7.p8.p9.p10.p11.p12.p13.p14.p15.p16.p17.p18.p19.p20.p21.p22.p23.p24.p25.p26.p27.p28.p29.p30.p31.p32.p33.p34.p35.p36.p37.p38.p39.p40.p41.p42.p43.p44.p45.p46.p47.p48.p49.p50.p51.p52.p53.p54.p55.p56.p57.p58.p59.p60.p61.p62.p63.p64.p65.p66.p67.p68.p69.p70.p71.p72.p73.p74.p75.p76.p77.p78.p79.p80.p81.p82.p83.p84.p85.p86.p87.p88.p89.p90.p91.p92.p93.p94.p95.p96.p97.p98.p99.p100;

			var count = 1000 * 1000;
			var st = 0;
			var lt = 0;
			var vst = 0;
			var vlt = 0;

			var d1 = new Date();
			for (var i = 0; i < count; i++) {
				val = o1.p1;
			}
			var d2 = new Date();
			for (var i = 0; i < count; i++) {
				val = o2.p1.p2.p3.p4.p5.p6.p7.p8.p9.p10.p11.p12.p13.p14.p15.p16.p17.p18.p19.p20.p21.p22.p23.p24.p25.p26.p27.p28.p29.p30.p31.p32.p33.p34.p35.p36.p37.p38.p39.p40.p41.p42.p43.p44.p45.p46.p47.p48.p49.p50.p51.p52.p53.p54.p55.p56.p57.p58.p59.p60.p61.p62.p63.p64.p65.p66.p67.p68.p69.p70.p71.p72.p73.p74.p75.p76.p77.p78.p79.p80.p81.p82.p83.p84.p85.p86.p87.p88.p89.p90.p91.p92.p93.p94.p95.p96.p97.p98.p99.p100;
			}
			var d3 = new Date();
			for (var i = 0; i < count; i++) {
				o1.p1;
			}
			var d4 = new Date();
			for (var i = 0; i < count; i++) {
				o2.p1.p2.p3.p4.p5.p6.p7.p8.p9.p10.p11.p12.p13.p14.p15.p16.p17.p18.p19.p20.p21.p22.p23.p24.p25.p26.p27.p28.p29.p30.p31.p32.p33.p34.p35.p36.p37.p38.p39.p40.p41.p42.p43.p44.p45.p46.p47.p48.p49.p50.p51.p52.p53.p54.p55.p56.p57.p58.p59.p60.p61.p62.p63.p64.p65.p66.p67.p68.p69.p70.p71.p72.p73.p74.p75.p76.p77.p78.p79.p80.p81.p82.p83.p84.p85.p86.p87.p88.p89.p90.p91.p92.p93.p94.p95.p96.p97.p98.p99.p100;
			}
			var d5 = new Date();
			for (var i = 0; i < count; i++) {
			}
			var d6 = new Date();

			st += d2 - d1;
			lt += d3 - d2;
			vst += d4 - d3;
			vlt += d5 - d4;

			hshort.innerHTML = st;
			hlong.innerHTML = lt;
			hvshort.innerHTML = vst;
			hvlong.innerHTML = vlt;
			hloop.innerHTML = d6 - d5;
		</script>
	</body>
</html>